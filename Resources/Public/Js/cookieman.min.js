var cookieman=function(){"use strict";var e="CookieConsent",t=document.querySelector("[data-cookieman-form]"),n=document.querySelector("[data-cookieman-settings]"),o=n,r=JSON.parse(n.dataset.cookiemanSettings),i=t.querySelectorAll("[type=checkbox][name]"),c=document.querySelectorAll("[data-cookieman-save]"),a=document.querySelectorAll("[data-cookieman-accept-all]"),s=document.querySelectorAll("[data-cookieman-accept-none]"),u=[],d={};function l(){for(var t=[],n=0;n<i.length;n++)i[n].checked&&t.push(i[n].name);Cookies.set(e,t.join("|"),{expires:365,sameSite:"lax"})}function f(e,t){e.checked=t}function v(){for(var e=0;e<i.length;e++){var t=i[e];t.disabled||f(t,!1)}}function m(e){for(var t=p(),n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function h(){var t=Cookies.get(e);return t?t.split("|"):[]}function p(){return h().filter((function(e){var t=r.groups[e];return void 0!==t&&(!t.respectDnt||"1"!==window.navigator.doNotTrack)}))}function k(e){const t=e.target;t&&t.dataset.hasOwnProperty("cookiemanShow")&&cookieman.show()}function g(e){e.preventDefault(),l(),cookieman.hide(),function(){for(var e in r.groups)if(Object.prototype.hasOwnProperty.call(r.groups,e)&&!m(e))for(var t=r.groups[e],n=0;n<t.trackingObjects.length;n++){var o=t.trackingObjects[n];w(o,r.trackingObjects[o])}}(),j()}function b(e){e.preventDefault(),function(){for(var e=0;e<i.length;e++)f(i[e],!0)}()}function y(e){e.preventDefault(),v()}function O(e,t){if(void 0!==t){if(void 0!==t.inject){var n,o=document.createElement("div");o.innerHTML=t.inject;for(var r=0,i=0;i<o.children.length;i++){var c=o.children[i];if("SCRIPT"===c.tagName){(n=document.createElement("script")).textContent=c.textContent;for(var a=0;a<c.attributes.length;a++){var s=c.attributes[a];n.setAttribute(s.name,s.value)}n.addEventListener("load",function(e,t,n,o){return function(r){void 0===d[n]&&(d[n]=[]),d[n].push(t),E("scriptLoaded",{detail:{trackingObjectKey:n,trackingObjectSettings:o,scriptId:t,node:e}})}}(n,r++,e,t)),c=n}else i--;document.body.appendChild(c)}u.push(e)}}else console.error("Used trackingObject ‹"+e+"› is undefined.")}function w(e,t){if(void 0!==t)for(var n in t.show){if(Object.prototype.hasOwnProperty.call(t.show,n))C(n,t.show[n])}else console.error("Used trackingObject ‹"+e+"› is undefined.")}function C(e,t){if("cookie_http+html"===t.type){if(Object.prototype.hasOwnProperty.call(t,"htmlCookieRemovalPattern")&&""!==t.htmlCookieRemovalPattern){var n,o=Cookies.get();try{n=RegExp(t.htmlCookieRemovalPattern)}catch(t){return console.error('Malformed pattern for cookie deletion on trackingObjectItem "'+e+'": '+t.message),!1}for(var r in o)null!==r.match(n)&&S(r)}else S(e);return!0}return!1}function j(){for(var e=p(),t=0;t<e.length;t++)for(var n=r.groups[e[t]],o=0;o<n.trackingObjects.length;o++){var i=n.trackingObjects[o];-1===u.indexOf(i)&&O(i,r.trackingObjects[i])}}function E(e,t){"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},window.CustomEvent.prototype=window.Event.prototype),o.dispatchEvent(new window.CustomEvent(e,t))}function S(e){var t=document.location.host,n=t.split(".").slice(-2).join(".");Cookies.remove(e),Cookies.remove(e,{path:"/"}),Cookies.remove(e,{path:"",domain:t}),Cookies.remove(e,{path:"/",domain:t}),Cookies.remove(e,{path:"",domain:"."+n}),Cookies.remove(e,{path:"/",domain:"."+n})}return function(){for(var n=0;n<a.length;n++)a[n].addEventListener("click",b);for(n=0;n<s.length;n++)s[n].addEventListener("click",y);for(n=0;n<c.length;n++)c[n].addEventListener("click",g);document.body.addEventListener("click",k),function(){if(void 0!==Cookies.get(e)){var n=h();v();for(var o=0;o<n.length;o++){var r=t.querySelector("[name="+n[o]+"]");r&&f(r,!0)}}}(),function(){if("1"===window.navigator.doNotTrack)for(var e=document.querySelectorAll("[data-cookieman-dnt]"),n=0;n<e.length;n++)e[n].innerHTML=t.dataset.cookiemanDntEnabled}(),j()}(),{show:function(){console.error("Your theme should implement function cookieman.show()")},hide:function(){console.error("Your theme should implement function cookieman.hide()")},showOnce:function(){void 0===Cookies.get(e)&&cookieman.show()},hasConsented:m,hasConsentedTrackingObject:function(e){var t=function(e){return Object.keys(r.groups).filter((function(t){return Object.prototype.hasOwnProperty.call(r.groups[t],"trackingObjects")&&r.groups[t].trackingObjects.indexOf(e)>-1}))}(e);return t.reduce((function(e,t){return e&&m(t)}),t.length>0)},consenteds:p,consent:function(e){f(t.querySelector('[type=checkbox][name="'+e+'"]'),!0),l(),j()},onScriptLoaded:function(e,t,n){void 0===d[e]&&(d[e]=[]),-1===d[e].indexOf(t)?o.addEventListener("scriptLoaded",(function(o){o.detail.trackingObjectKey===e&&o.detail.scriptId===t&&n(o.detail.trackingObjectKey,o.detail.scriptId)})):n(e,t)},eventsEl:o}}();

var cookieman=function(){"use strict";var e="CookieConsent",t=document.querySelector("[data-cookieman-form]"),o=document.querySelector("[data-cookieman-settings]"),n=o,r=JSON.parse(o.dataset.cookiemanSettings),i=t.querySelectorAll("[type=checkbox][name]"),c=document.querySelectorAll("[data-cookieman-save]"),a=document.querySelectorAll("[data-cookieman-accept-all]"),s=document.querySelectorAll("[data-cookieman-accept-none]"),d=[],u={};function l(){for(var t=[],o=r.cookie?.cookieLifetimeDays||365,n={expires:parseInt(o,10),domain:r.cookie?.domain||void 0,sameSite:r.cookie?.sameSite||"lax"},c=0;c<i.length;c++)i[c].checked&&t.push(i[c].name);Cookies.set(e,t.join("|"),n)}function f(e,t){e.checked=t}function m(){for(var e=0;e<i.length;e++){var t=i[e];t.disabled||f(t,!1)}}function v(e){for(var t=h(),o=0;o<t.length;o++)if(t[o]===e)return!0;return!1}function k(){var t=Cookies.get(e);return t?t.split("|"):[]}function h(){return k().filter((function(e){var t=r.groups[e];return void 0!==t&&(!t.respectDnt||"1"!==window.navigator.doNotTrack)}))}function p(e){const t=e.target;t&&t.dataset.hasOwnProperty("cookiemanShow")&&cookieman.show()}function g(e){e.preventDefault(),l(),cookieman.hide(),function(){for(var e in r.groups)if(Object.prototype.hasOwnProperty.call(r.groups,e)&&!v(e))for(var t=r.groups[e],o=0;o<t.trackingObjects.length;o++){var n=t.trackingObjects[o];j(n,r.trackingObjects[n])}}(),w()}function O(e){e.preventDefault(),function(){for(var e=0;e<i.length;e++)f(i[e],!0)}()}function b(e){e.preventDefault(),m()}function y(e,t){if(void 0!==t){if(void 0!==t.inject){var o,r=document.createElement("div");r.innerHTML=t.inject;for(var i=0,c=0;c<r.children.length;c++){var a=r.children[c];if("SCRIPT"===a.tagName){(o=document.createElement("script")).textContent=a.textContent;for(var s=0;s<a.attributes.length;s++){var l=a.attributes[s];o.setAttribute(l.name,l.value)}o.addEventListener("load",function(e,t,o,r){return function(i){var c,a;void 0===u[o]&&(u[o]=[]),u[o].push(t),c="scriptLoaded",a={detail:{trackingObjectKey:o,trackingObjectSettings:r,scriptId:t,node:e}},n.dispatchEvent(new window.CustomEvent(c,a))}}(o,i++,e,t)),a=o}else c--;document.body.appendChild(a)}d.push(e)}}else console.error("Used trackingObject ‹"+e+"› is undefined.")}function j(e,t){if(void 0!==t)for(var o in t.show){if(Object.prototype.hasOwnProperty.call(t.show,o))C(o,t.show[o])}else console.error("Used trackingObject ‹"+e+"› is undefined.")}function C(e,t){if("cookie_http+html"===t.type){if(Object.prototype.hasOwnProperty.call(t,"htmlCookieRemovalPattern")&&""!==t.htmlCookieRemovalPattern){var o,n=Cookies.get();try{o=RegExp(t.htmlCookieRemovalPattern)}catch(t){return console.error('Malformed pattern for cookie deletion on trackingObjectItem "'+e+'": '+t.message),!1}for(var r in n)null!==r.match(o)&&S(r)}else S(e);return!0}return!1}function w(){for(var e=h(),t=0;t<e.length;t++)for(var o=r.groups[e[t]],n=0;n<o.trackingObjects.length;n++){var i=o.trackingObjects[n];-1===d.indexOf(i)&&y(i,r.trackingObjects[i])}}function S(e){var t=document.location.host,o=t.split(".").slice(-2).join(".");Cookies.remove(e),Cookies.remove(e,{path:"/"}),Cookies.remove(e,{path:"",domain:t}),Cookies.remove(e,{path:"/",domain:t}),Cookies.remove(e,{path:"",domain:"."+o}),Cookies.remove(e,{path:"/",domain:"."+o})}return function(){for(var o=0;o<a.length;o++)a[o].addEventListener("click",O);for(o=0;o<s.length;o++)s[o].addEventListener("click",b);for(o=0;o<c.length;o++)c[o].addEventListener("click",g);document.body.addEventListener("click",p),function(){if(void 0!==Cookies.get(e)){var o=k();m();for(var n=0;n<o.length;n++){var r=t.querySelector("[name="+o[n]+"]");r&&f(r,!0)}}}(),function(){if("1"===window.navigator.doNotTrack)for(var e=document.querySelectorAll("[data-cookieman-dnt]"),o=0;o<e.length;o++)e[o].innerHTML=t.dataset.cookiemanDntEnabled}(),w()}(),{show:function(){console.error("Your theme should implement function cookieman.show()")},hide:function(){console.error("Your theme should implement function cookieman.hide()")},showOnce:function(){void 0===Cookies.get(e)&&cookieman.show()},hasConsented:v,hasConsentedTrackingObject:function(e){var t=function(e){return Object.keys(r.groups).filter((function(t){return Object.prototype.hasOwnProperty.call(r.groups[t],"trackingObjects")&&r.groups[t].trackingObjects.indexOf(e)>-1}))}(e);return t.reduce((function(e,t){return e&&v(t)}),t.length>0)},consenteds:h,consent:function(e){f(t.querySelector('[type=checkbox][name="'+e+'"]'),!0),l(),w()},onScriptLoaded:function(e,t,o){void 0===u[e]&&(u[e]=[]),-1===u[e].indexOf(t)?n.addEventListener("scriptLoaded",(function(n){n.detail.trackingObjectKey===e&&n.detail.scriptId===t&&o(n.detail.trackingObjectKey,n.detail.scriptId)})):o(e,t)},eventsEl:n}}();
